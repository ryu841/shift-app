<div class="grid grid-cols-7 gap-6 w-3/5">
  <div class="space-y-6 col-span-4">
    <label class="block text-xl font-bold text-gray-700">募集シフト一覧</label>
    <% if @shifts.present? %>
      <% @shifts.each do |shift| %>
        <div>
          <div tabindex="0" aria-label="card 1" class="focus:outline-none mb-7 bg-white p-6 shadow rounded">
            <div class="border-b border-gray-200 pb-6" >
              <div>
                <div class="pl-3">
                  <p class="focus:outline-none text-lg font-medium leading-5 text-gray-800"><%= link_to shift.title_date, shift_path(shift) %></p>
                  <p class="focus:outline-none text-sm leading-normal pt-2 text-gray-500">by 店長
              </div>
              </div>
            </div>
            <% shift.shortfalls.each_with_index do |shortfall, index| %>
              <% if shortfall.start_time.present? %>
                <div class="p-3 border border-gray-300 rounded-md shadow-sm bg-gray-50 mt-2 flex justify-between gap-1">
                  <p class="text-gray-700 font-semibold">
                    <%= "不足時間 #{index + 1} : " %>
                  </p>
                  <p class="text-gray-700 font-semibold">
                    <%= "#{shortfall.start_time&.strftime("%H:%M")} ~ #{shortfall.end_time&.strftime("%H:%M")}" %>
                  </p>
                  <p class="text-gray-700 font-semibold">
                    <%= "#{shortfall.require_count}名" %>
                  </p>
                </div>
              <% end %>
            <% end %>
            <div class="px-2">
              <p class="focus:outline-none text-sm leading-5 py-4 text-gray-600"><%= shift.comment %></p>
            </div>
          </div>
        </div>
      <% end %>
    <% else %>
      <div class="flex justify-center">
        <p class="text-base text-gray-700" >現在、募集しているシフトはありません。</p>
      </div>
    <% end %>
  </div>
  <div class="space-y-6 col-span-3">
    <label class="block text-xl font-bold text-gray-700">参加申請一覧</label>
    <div tabindex="0" aria-label="card 1" class="focus:outline-none mb-7 bg-white shadow rounded">
      <ul>
        <% @tickets.each do |ticket| %>
          <% @allshifts.each do |shift| %>
            <% shift.shortfalls.each do |shortfall| %>
              <% if ticket.shortfall_id == shortfall.id %>
                <div class="flex justify-around border-b border-gray-200 pb-4 pt-4">
                  <li>
                    <strong><%= ticket.user.firstname + ticket.user.lastname %></strong>
                  </li>
                  <li>
                    <button class="text-sm bg-transparent text-green-700 py-1 px-3 border border-green-500 rounded">
                    承認待ち
                    </button>
                  </li>
                </div>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      </ul>
    </div>
    <label class="block text-xl font-bold text-gray-700">参加申請中のシフト</label>
    <div tabindex="0" aria-label="card 1" class="focus:outline-none mb-7 bg-white shadow rounded">
      <ul>
        <% @tickets.each do |ticket| %>
          <% @allshifts.each do |shift| %>
            <% shift.shortfalls.each do |shortfall| %>
              <% if ticket.shortfall_id == shortfall.id %>
                <div class="flex justify-around border-b border-gray-200 pb-4 pt-4">
                  <li>
                  <strong><%= shift.title_date %></strong>
                  </li>
                  <li>
                    <%= "#{shortfall.start_time&.strftime("%H:%M")} ~ #{shortfall.end_time&.strftime("%H:%M")}" %>
                  </li>
                  <li>
                    <button class="text-sm bg-transparent text-green-700 py-1 px-3 border border-green-500 rounded">
                    承認待ち
                    </button>
                  </li>
                </div>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      </ul>
    </div>
  </div>
</div>